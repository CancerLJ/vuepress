(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{294:function(t,e,a){"use strict";a.r(e);var n=a(2),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"crontab常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crontab常用命令","aria-hidden":"true"}},[t._v("#")]),t._v(" crontab常用命令")]),t._v(" "),a("h2",{attrs:{id:"crontab简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crontab简介","aria-hidden":"true"}},[t._v("#")]),t._v(" crontab简介")]),t._v(" "),a("p",[t._v("crontab是Linux的内置服务，常用来定时执行某些操作。")]),t._v(" "),a("h2",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令","aria-hidden":"true"}},[t._v("#")]),t._v(" 常用命令")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("code",[t._v("yum install vixie-cron")]),t._v("：vixie-cron软件包是cron的主程序")]),t._v(" "),a("li",[a("code",[t._v("yum install crontabs")]),t._v("：crontabs软件包是用来安装、卸载、或列举用来驱动cron守护进程的表格的程序。")]),t._v(" "),a("li",[t._v("启动服务："),a("code",[t._v("service crond start")])]),t._v(" "),a("li",[t._v("停止服务："),a("code",[t._v("service crond stop")])]),t._v(" "),a("li",[t._v("重启服务："),a("code",[t._v("service crond restart")])]),t._v(" "),a("li",[t._v("重新加载配置："),a("code",[t._v("service crond reload")])]),t._v(" "),a("li",[t._v("查看配置："),a("code",[t._v("crontab -l")])]),t._v(" "),a("li",[t._v("编辑配置："),a("code",[t._v("crontab -e")])]),t._v(" "),a("li",[t._v("删除配置："),a("code",[t._v("crontab -r")])]),t._v(" "),a("li",[t._v("查看运行日志："),a("code",[t._v("tail -f /var/log/cron")]),t._v(" "),a("code",[t._v("tail -n 100 /var/log/cron")])])])]),t._v(" "),a("p",[t._v("crontab默认不会开机自动启动，将crontab设为开机自动启动方法如下：\n在"),a("code",[t._v("/etc/rc.d/rc.local")]),t._v("脚本中加入"),a("code",[t._v("/sbin/service crond start")]),t._v("即可。或者使用命令："),a("code",[t._v("chkconfig crond on")]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"格式说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#格式说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 格式说明")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("00")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("00")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("*")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("*")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("*")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("/bin/bash /data/sh/cut_nginx_logs.sh")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("minute")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("hour")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("day")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("month")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("dayofweek")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("command")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("分钟")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("小时")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("天")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("月")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("星期几")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("需要执行的命令")])])])]),t._v(" "),a("p",[a("strong",[t._v("各参数说明")])]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("code",[t._v("minute")]),t._v(" : 从0到59的整数")]),t._v(" "),a("li",[a("code",[t._v("hour")]),t._v(" : 从0到23的整数")]),t._v(" "),a("li",[a("code",[t._v("day")]),t._v(" : 从1到31的整数 (必须是指定月份的有效日期)")]),t._v(" "),a("li",[a("code",[t._v("month")]),t._v(" : 从1到12的整数 (或如Jan或Feb简写的月份)")]),t._v(" "),a("li",[a("code",[t._v("dayofweek")]),t._v(" : 从0到7的整数，0或7用来描述周日 (或用Sun或Mon简写来表示)")]),t._v(" "),a("li",[a("code",[t._v("command")]),t._v(" : 需要执行的命令")])])]),t._v(" "),a("h2",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例","aria-hidden":"true"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("00 00 * * * /bin/bash /xvdb1/sh/cut_nginx_logs.sh       //每天00:00执行cut_nginx_logs.sh（需要有执行权限）\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" * * "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" /usr/local/php/bin/php /xvdb1/www/blogwap/trunk/game_week.php          //每周一00:01运行game_week.php\n*/4 * * * * /usr/local/php/bin/php /xvdb1/www/blogweb/trunk/orders_lunxun.php      //每4分钟执行一次orders_lunxun.php\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" * * * /usr/bin/curl http://www.abc.com/return_check       //每天2:00执行http链接\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" * "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("-3 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" line       //每个月的4号和每个礼拜的礼拜一到礼拜三的早上11点\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])])}),[],!1,null,null,null);e.default=s.exports}}]);