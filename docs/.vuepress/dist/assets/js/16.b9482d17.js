(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{293:function(a,t,s){"use strict";s.r(t);var e=s(2),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"thinkphp5-部署优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#thinkphp5-部署优化","aria-hidden":"true"}},[a._v("#")]),a._v(" ThinkPHP5 部署优化")]),a._v(" "),s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介","aria-hidden":"true"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),s("p",[a._v("在代码层面，ThinkPHP5的很多请求都要进行重新加载。通过缓存可以提升部分性能")]),a._v(" "),s("h2",{attrs:{id:"关闭调试模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关闭调试模式","aria-hidden":"true"}},[a._v("#")]),a._v(" 关闭调试模式")]),a._v(" "),s("ul",[s("li",[a._v("修改"),s("code",[a._v("application/config.php")]),a._v("文件。将"),s("code",[a._v("app_debug")]),a._v("的值修改成"),s("code",[a._v("false")])])]),a._v(" "),s("div",{staticClass:"language-php line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 应用调试模式")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'app_debug'")]),a._v("              "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean constant"}},[a._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h2",{attrs:{id:"生成路由缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成路由缓存","aria-hidden":"true"}},[a._v("#")]),a._v(" 生成路由缓存")]),a._v(" "),s("p",[a._v("可以免除你在打开这个应用时候路由注册的开销，从而改善路由的检测效率")]),a._v(" "),s("ul",[s("li",[a._v("运行命令"),s("code",[a._v("php think optimize:route")])]),a._v(" "),s("li",[a._v("操作成功后会在"),s("code",[a._v("runtime/")]),a._v("目录下生成"),s("code",[a._v("route.php")]),a._v("文件")])]),a._v(" "),s("h2",{attrs:{id:"生成数据表字段缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成数据表字段缓存","aria-hidden":"true"}},[a._v("#")]),a._v(" 生成数据表字段缓存")]),a._v(" "),s("p",[a._v("每次查询，ThinkPHP5 都会有类似这种SQL语句执行")]),a._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SHOW")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("COLUMNS")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("USER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("可以通过生成字段缓存来减少查询")]),a._v(" "),s("ul",[s("li",[a._v("运行命令"),s("code",[a._v("php think optimize:schema")])]),a._v(" "),s("li",[a._v("操作成功后会在"),s("code",[a._v("runtime/")]),a._v("目录下生成"),s("code",[a._v("schema/")]),a._v("目录")])]),a._v(" "),s("h2",{attrs:{id:"生成类库映射文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成类库映射文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 生成类库映射文件")]),a._v(" "),s("p",[a._v("可以提高自动加载的性能")]),a._v(" "),s("ul",[s("li",[a._v("运行命令"),s("code",[a._v("php think optimize:autoload")])]),a._v(" "),s("li",[a._v("操作成功后会在"),s("code",[a._v("runtime/")]),a._v("目录下生成"),s("code",[a._v("classmap.php")]),a._v("文件")])])])}),[],!1,null,null,null);t.default=n.exports}}]);